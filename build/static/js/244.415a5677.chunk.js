"use strict";(self.webpackChunkpos_repair_pwa=self.webpackChunkpos_repair_pwa||[]).push([[244],{73244:(e,r,n)=>{n.r(r),n.d(r,{default:()=>x});var t=n(65043),a=n(53969),o=n(55895),i=n(70298),s=n(1725),l=n(85030),d=n(66154),c=n(33699),u=n(12097),p=n(70916),h=n(91449),g=n(63009),m=n(70579);const x=e=>{let{onClose:r,initialConfig:n={},onSave:x}=e;const[b,v]=(0,t.useState)(n.enabled||!1),[A,j]=(0,t.useState)(n.pin||""),[f,C]=(0,t.useState)(n.timeout||5),[k,P]=(0,t.useState)(!1),[S,y]=(0,t.useState)(""),[w,E]=(0,t.useState)("success"),[I,N]=(0,t.useState)(!1);return(0,m.jsxs)(a.A,{sx:{p:3,minWidth:320},children:[(0,m.jsx)(o.A,{variant:"h6",sx:{mb:2},children:"Configuraci\xf3n de Protector de Pantalla"}),(0,m.jsxs)(i.A,{spacing:2,children:[(0,m.jsx)(s.A,{control:(0,m.jsx)(l.A,{checked:b,onChange:e=>v(e.target.checked)}),label:"Activar bloqueo por inactividad"}),(0,m.jsx)(d.A,{label:"PIN de desbloqueo",type:"password",value:A,onChange:e=>j(e.target.value.replace(/[^0-9]/g,"")),inputProps:{maxLength:8},disabled:!b,fullWidth:!0,helperText:"M\xednimo 4 d\xedgitos"}),(0,m.jsx)(d.A,{label:"Tiempo de inactividad (minutos)",type:"number",value:f,onChange:e=>C(Number(e.target.value)),InputProps:{endAdornment:(0,m.jsx)(c.A,{position:"end",children:"min"})},disabled:!b,fullWidth:!0,helperText:"Entre 1 y 120 minutos"}),(0,m.jsxs)(i.A,{direction:"row",spacing:2,sx:{mt:2},children:[(0,m.jsx)(u.A,{variant:"contained",onClick:()=>{if(b&&(!A||A.length<4))return y("El PIN debe tener al menos 4 d\xedgitos"),E("error"),void P(!0);if(b&&(f<1||f>120))return y("El tiempo debe ser entre 1 y 120 minutos"),E("error"),void P(!0);const e={enabled:b,pin:A,timeout:f};try{localStorage.setItem("protectorPantalla",JSON.stringify(e)),x&&x(e),y("Configuraci\xf3n guardada correctamente"),E("success"),P(!0),setTimeout((()=>r()),800)}catch(n){console.error("Error guardando configuraci\xf3n:",n),y("Error al guardar la configuraci\xf3n"),E("error"),P(!0)}},children:"Guardar"}),(0,m.jsx)(u.A,{variant:"outlined",onClick:r,children:"Cerrar"}),b&&A.length>=4&&(0,m.jsx)(u.A,{variant:"outlined",color:"secondary",onClick:()=>{if(!A||A.length<4)return y("El PIN debe tener al menos 4 d\xedgitos para probar"),E("error"),void P(!0);N(!0)},sx:{ml:"auto"},children:"Probar Pantalla"})]})]}),(0,m.jsx)(p.A,{open:k,autoHideDuration:3e3,onClose:()=>P(!1),children:(0,m.jsx)(h.A,{severity:w,children:S})}),I&&(0,m.jsx)(g.A,{pinGuardado:A,onUnlock:()=>{N(!1)},onLogout:()=>{N(!1)}})]})}}}]);
//# sourceMappingURL=244.415a5677.chunk.js.map